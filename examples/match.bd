#{ match expression }#

# immediate return
factorial(x: int) -> int = match x {
    0 -> 1,
    n -> n * factorial(n - 1),
};

# some imperative boilerplate, then return
process(x: int) -> int {
    if !valid(x) {
        log_error();
        return -1;
    }
    return match computation(x).value {
        :ok(v) -> v,
        :error(_) -> -2,
    };
}
