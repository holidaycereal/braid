-* match expression *-

def factorial(x: int) -> int = match x {
	0 -> 1,
	\n -> n * factorial(n - 1),
};

def process(x: int) -> int {
	if !valid(x) {
		log_error();
		return -1;
	}
	return match computation(x).value {
		ok(\v) -> v,
		error(*) -> -2,
	};
}
